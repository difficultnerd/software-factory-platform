name = "sfp-api"
main = "src/index.ts"
compatibility_date = "2025-01-01"
compatibility_flags = ["nodejs_compat"]

# Production overrides set via:
# wrangler secret put SUPABASE_URL
# wrangler secret put SUPABASE_ANON_KEY
# wrangler secret put SUPABASE_SERVICE_ROLE_KEY
# wrangler secret put ALLOWED_ORIGIN

[[r2_buckets]]
binding = "ARTIFACTS"
bucket_name = "buildpractical-artifacts"

# Stuck-task recovery: runs every 15 minutes
[triggers]
crons = ["*/15 * * * *"]
